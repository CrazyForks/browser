<!DOCTYPE html>

<script src="../../testing.js"></script>

<script id=dynamic_import type=module>
  const promise1 = new Promise((resolve) => {
    Promise.all([
      import('./import.js'),
      import('./import.js'),
      import('./import2.js'),
    ]).then(resolve);
  });

  testing.async(promise1, (res) => {
    testing.expectEqual('hello', res[0].greeting);
    testing.expectEqual('hello', res[1].greeting);
    testing.expectEqual('world', res[2].greeting);
  })
</script>
